# 校园购物商城需求说明书

## 1. 文档概述

### 1.1 文档目的
本文档旨在详细描述校园购物商城系统的需求规范，包括功能需求、非功能需求、数据需求等，为系统设计、开发和测试提供明确的指导依据。

### 1.2 术语定义
- **用户**：校园购物商城的注册用户，主要是在校学生
- **商品**：商城中销售的各种商品
- **分类**：商品的分类体系，用于商品的组织和检索
- **购物车**：用户用于临时存放待购买商品的虚拟容器
- **订单**：用户购买商品后生成的交易记录
- **订单项**：订单中包含的具体商品信息
- **管理员**：负责系统管理和维护的角色
- **JWT**：JSON Web Token，用于用户身份认证
- **CORS**：跨域资源共享，解决前后端分离架构中的跨域问题

## 2. 项目背景与目标

### 2.1 项目背景
随着互联网技术的发展，校园内的商品交易需求日益增长。传统的线下交易方式存在信息不对称、交易效率低等问题。校园购物商城旨在为师生提供一个便捷、安全、高效的线上交易平台，满足校园内的日常购物需求。

### 2.2 项目目标
1. 提供便捷的商品浏览和搜索功能
2. 实现用户注册、登录和个人信息管理
3. 支持商品加入购物车、下单和支付流程
4. 提供订单管理和物流追踪功能
5. 实现商品评价和评论功能
6. 支持管理员对用户、商品、订单的管理
7. 确保系统的安全性、可靠性和可扩展性

## 3. 用户需求分析

### 3.1 用户角色
1. **普通用户**：校园内的学生和教职工，具有浏览商品、购买商品、管理订单等权限
2. **管理员**：系统的维护者，具有管理用户、商品、订单等权限

### 3.2 用户场景分析

#### 3.2.1 普通用户场景
1. **注册与登录**：用户通过手机号/学号注册账号，设置密码后登录系统
2. **商品浏览**：用户浏览首页推荐商品、分类商品，查看商品详情
3. **商品搜索**：用户通过关键词搜索商品
4. **加入购物车**：用户将感兴趣的商品加入购物车
5. **下单购买**：用户确认购物车商品，填写收货地址，选择支付方式，提交订单
6. **订单管理**：用户查看订单状态，确认收货，申请退款等
7. **商品评价**：用户对已完成的订单商品进行评价
8. **个人中心**：用户管理个人信息、收货地址、收藏的商品等

#### 3.2.2 管理员场景
1. **用户管理**：查看、编辑、禁用用户账号
2. **商品管理**：发布、编辑、下架商品，管理商品分类
3. **订单管理**：查看订单详情，处理订单状态，安排发货
4. **系统设置**：配置系统参数，管理轮播图等

## 4. 功能需求

### 4.1 用户管理模块
1. **用户注册**：支持手机号/学号注册，短信验证码验证
2. **用户登录**：支持账号密码登录，记住登录状态
3. **忘记密码**：支持通过手机验证码重置密码
4. **个人信息管理**：查看和修改个人基本信息
5. **收货地址管理**：添加、编辑、删除收货地址，设置默认地址
6. **用户认证**：使用JWT进行身份认证和授权

### 4.2 商品管理模块
1. **商品分类管理**：支持多级分类，分类的增删改查
2. **商品信息管理**：
   - 商品基本信息：名称、价格、库存、描述等
   - 商品图片上传：支持多张商品图片上传（使用MultipartFile）
   - 商品状态管理：上架、下架、草稿
3. **商品展示**：
   - 首页推荐商品展示
   - 分类商品列表展示
   - 商品详情页展示
4. **商品搜索**：支持关键词搜索，按价格、销量等排序
5. **商品详情**：显示商品图片、价格、规格、描述、评价等信息

### 4.3 购物车模块
1. **添加商品**：将商品添加到购物车，可以指定商品数量
2. **查看购物车**：展示购物车内所有商品及总价
3. **修改购物车**：修改商品数量，移除商品
4. **选择商品**：选择购物车内的商品进行结算

### 4.4 订单管理模块
1. **创建订单**：从购物车选择商品创建订单
2. **订单详情**：查看订单的详细信息，包括商品、价格、收货地址等
3. **订单状态管理**：待付款、待发货、待收货、待评价、已完成、已取消、退款中
4. **取消订单**：在特定状态下可以取消订单
5. **确认收货**：收到商品后确认收货
6. **申请退款**：对已完成但有问题的订单申请退款
7. **订单查询**：按订单状态、时间等条件查询订单

### 4.5 支付模块
1. **支付方式**：支持微信支付、支付宝支付等主流支付方式
2. **支付流程**：生成支付订单，跳转到支付页面，支付回调处理
3. **支付记录**：记录支付交易的详细信息

### 4.6 评价模块
1. **商品评价**：用户可以对已完成的订单商品进行评分和评论
2. **评价管理**：管理员可以审核、删除评价
3. **评价展示**：在商品详情页展示商品的评价信息

### 4.7 管理员模块
1. **管理员登录**：独立的管理员登录入口
2. **用户管理**：查看、编辑、禁用用户账号
3. **商品管理**：发布、编辑、下架商品，管理商品分类
4. **订单管理**：查看订单详情，处理订单状态，安排发货
5. **系统设置**：配置系统参数，管理轮播图等

## 5. 非功能需求

### 5.1 性能需求
1. **响应时间**：页面加载时间≤3秒，API响应时间≤500ms
2. **并发处理**：系统应支持至少500用户同时在线，每秒处理100个请求
3. **数据吞吐量**：订单处理能力≥20笔/秒

### 5.2 安全需求
1. **身份认证**：使用JWT进行用户认证，令牌有效期管理
2. **数据安全**：敏感数据加密存储，HTTPS传输
3. **访问控制**：基于角色的访问控制（RBAC）
4. **防护措施**：防止SQL注入、XSS攻击、CSRF攻击等
5. **日志审计**：记录关键操作日志，便于安全审计

### 5.3 可用性需求
1. **系统可用性**：系统可用性≥99%
2. **故障恢复**：系统发生故障后，恢复时间≤30分钟
3. **数据备份**：定期数据备份，支持数据恢复

### 5.4 可扩展性需求
1. **模块化设计**：系统采用模块化设计，便于功能扩展
2. **接口标准化**：提供标准的API接口，便于第三方系统集成
3. **容器化部署**：使用Docker + Docker Compose进行容器化部署

### 5.5 兼容性需求
1. **浏览器兼容性**：支持Chrome、Firefox、Safari、Edge等主流浏览器
2. **移动端适配**：支持移动端访问，响应式设计

## 6. 数据需求

### 6.1 核心数据表
1. **用户表（user）**：存储用户基本信息
2. **分类表（category）**：存储商品分类信息
3. **商品表（product）**：存储商品基本信息
4. **购物车表（cart）**：存储用户购物车信息
5. **订单表（orders）**：存储订单基本信息
6. **订单项表（order_item）**：存储订单中的商品详情
7. **管理员表（admin）**：存储管理员信息

### 6.2 数据关系
- 用户与订单：一对多关系
- 订单与订单项：一对多关系
- 商品与分类：多对一关系
- 用户与购物车：一对一关系
- 购物车与商品：多对多关系

## 7. 范围限定

1. 本系统仅针对校园内的师生用户
2. 支持的支付方式包括微信支付、支付宝支付
3. 商品类型主要包括学习用品、生活用品、电子产品等校园常用商品
4. 系统部署在校园内部网络，优先保障校园网用户的访问速度

## 8. 验收标准

1. 所有功能需求均能正常实现
2. 系统性能满足非功能需求的要求
3. 系统安全可靠，无明显安全漏洞
4. 用户界面友好，操作便捷
5. 系统文档完整，包括需求说明书、设计文档、用户手册等

## 9. 风险分析

1. **技术风险**：系统架构设计不合理可能导致性能问题
2. **安全风险**：用户数据泄露、支付安全等问题
3. **进度风险**：开发周期延长，影响项目按时交付
4. **运维风险**：系统部署和维护难度较大

## 10. 附录

### 10.1 参考资料
- Vue.js官方文档
- Spring Boot官方文档
- MyBatis官方文档
- MySQL数据库设计规范

### 10.2 相关文档
- 概要设计文档
- 详细设计文档
- 数据库设计文档
- 测试计划文档